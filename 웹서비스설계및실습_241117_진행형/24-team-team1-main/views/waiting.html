<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>게임 대기</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: 100vh;
        }

        img {
            margin-top: 20px;
            width: 400px;
            height: auto;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
        }

        button {
            padding: 10px 20px;
            font-size: 18px;
            color: white;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin: 5px;
        }

        /*.button-container {
            position: fixed;
            margin-top: 40px;
            flex-direction: row;
            margin-left: 710px;
        }*/

        .button-container {
            position: fixed;
            top: 20px;
            right: 20px; /* 오른쪽 상단에 위치 */
            display: flex;
            flex-direction: row;
            gap: 10px;
        }

        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>

<body>
    <img src="images/logo2.png" alt="게임 로고">
    <br>
    <br>
    <h1>게임 대기 중...</h1>
    <p>잠시만 기다려주세요...</p>
    <div class="button-container">
        <button onclick="location.href='/logout'">로그아웃</button>
        <button onclick="location.href='/ranking'">랭킹</button>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        // URL 파라미터로 전달된 난이도를 가져오기
        const urlParams = new URLSearchParams(window.location.search);
        const difficulty = urlParams.get('difficulty');

        // // 서버에 연결
        // const socket = io();

        // // 서버에서 할당된 위치 ('left' 또는 'right')를 받음
        // socket.on('assignSide', (side) => {
        //     console.log(`내 위치: ${side}`);
        // });

        // // 서버에서 인원 초과 메시지 수신
        // socket.on('gameMemberFull', (message) => {
        //     alert(message);
        //     window.location.href = '/homepage.html';  // 인원 초과 시 홈페이지로 이동
        // });

        // // 두 명이 모두 모였을 때 게임 시작 알림
        // socket.on('gameReady', (message) => {
        //     alert(message);  // '두 명이 모였습니다. 게임을 시작합니다!' 메시지
        //     window.location.href = '/game.html';  // 게임 화면으로 이동
        // });

        // // 서버에서 'startGame' 이벤트를 받으면 게임 시작 페이지로 이동
        // // socket.on('startGame', () => {
        // //     window.location.href = `/game.html?difficulty=${difficulty}`;
        // // });

        setTimeout(() => {
            window.location.href = `/game.html?difficulty=${difficulty}`;
        }, 5000); // 5초 후에 게임 시작 페이지로 이동
    </script>
</body>

</html>